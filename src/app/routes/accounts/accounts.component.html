<div class="text-center" style="font-size: 16px;">
   Seleccione el rango de fechas
</div>

<form class="form-inline justify-content-center mt-2">
   <div class="form-group hidden">
      <div class="input-group">
         <input name="datepicker" class="form-control" ngbDatepicker #datepicker="ngbDatepicker" [autoClose]="'outside'"
            (dateSelect)="onDateSelection($event)" [displayMonths]="2" [dayTemplate]="t" outsideDays="hidden"
            [startDate]="fromDate!">
         <ng-template #t let-date let-focused="focused">
            <span class="custom-day" [class.focused]="focused" [class.range]="isRange(date)"
               [class.faded]="isHovered(date) || isInside(date)" (mouseenter)="hoveredDate = date"
               (mouseleave)="hoveredDate = null">
               {{ date.day }}
            </span>
         </ng-template>
      </div>
   </div>
   <div class="form-group">
      <div class="input-group">
         <input #dpFromDate class="form-control" placeholder="yyyy-mm-dd" name="dpFromDate"
            [value]="formatter.format(fromDate)" (input)="fromDate = validateInput(fromDate, dpFromDate.value)">
         <div class="input-group-append">
            <button class="btn btn-outline-secondary" (click)="datepicker.toggle()" type="button">
               <i class="far fa-calendar-alt"></i>
            </button>
         </div>
      </div>
   </div>
   <div class="form-group ml-2">
      <div class="input-group">
         <input #dpToDate class="form-control" placeholder="yyyy-mm-dd" name="dpToDate"
            [value]="formatter.format(toDate)" (input)="toDate = validateInput(toDate, dpToDate.value)">
         <div class="input-group-append">
            <button class="btn btn-outline-secondary" (click)="datepicker.toggle()" type="button">
               <i class="far fa-calendar-alt"></i>
            </button>
         </div>
      </div>
   </div>
   <div class="form-group ml-2">
      <button class="btn btn-outline-secondary" (click)="obtenerIngresosyGastos()" type="button">
         <i class="fas fa-search"></i>
      </button>
   </div>
</form>

<hr>

<form>
   <div class="form-row">
      <div class="form-group col-md-4">
         <label>Ingresos</label>
         <input type="text" class="form-control" name="ingresos" [(ngModel)]="totalIngresos" readonly>
      </div>
      <div class="form-group col-md-4">
         <label>Gastos</label>
         <input type="text" class="form-control" name="gastos" [(ngModel)]="totalGastos" readonly>
      </div>
      <div class="form-group col-md-4">
         <label>Saldo</label>
         <input type="text" class="form-control" name="saldo" [(ngModel)]="totalSaldos"  readonly>
      </div>
   </div>
</form>

<hr>

<div class="row mt-1 justify-content-centers">
   <div class="col-md-6">
      <div class="text-center" style="font-size: 28px;">
         Control de Ingresos
      </div>

      <div class="table-wrapper-scroll-y my-custom-scrollbar">
         <table class="table table-hover mt-3">
            <thead class="table-secondary">
               <tr>
                  <th scope="col">No.</th>
                  <th scope="col">Fecha</th>
                  <th scope="col">Descripcion</th>
                  <th scope="col">Total</th>
               </tr>
            </thead>

            <tbody *ngFor="let registro of listaIngresos; let i=index">
               <tr>
                  <td scope="row"> {{i+1}} </td>
                  <td> {{ registro.fecha }} </td>
                  <td> {{ registro.descripcion }} </td>
                  <td> Q.{{ registro.total | number: '1.2-2' }} </td>
               </tr>
            </tbody>
         </table>
      </div>
   </div>

   <div class="col-md-6">
      <div class="text-center" style="font-size: 28px;">
         Control de Gastos
      </div>

      <!-- <table class="table table-hover table-responsive-sm mt-3"> -->
      <div class="table-wrapper-scroll-y my-custom-scrollbar">
         <table class="table table-hover mt-3">
            <thead class="table-secondary">
               <tr>
                  <th scope="col">No.</th>
                  <th scope="col">Fecha</th>
                  <th scope="col">Descripcion</th>
                  <th scope="col">Total</th>
               </tr>
            </thead>

            <tbody *ngFor="let registro of listaGastos; let i=index">
               <tr>
                  <td scope="row"> {{i+1}} </td>

                  <td> {{ registro.fecha }} </td>
                  <td> {{ registro.descripcion }} </td>
                  <td> Q.{{ registro.total | number: '1.2-2' }} </td>
               </tr>
            </tbody>
         </table>
      </div>
   </div>
</div>